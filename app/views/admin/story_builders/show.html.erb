<header class="main-content__header flex place-content-between justify-between items-center mb-4 px-4 shadow-md py-4">
  <h4 class="main-content__page-title">
    Show Builder
  </h4>
  <div class="ml-2">
    <%= link_to("Edit Builder", edit_admin_story_builder_path(@story_builder), class: 'btn btn-primary') %>
  </div>
</header>

<div class="px-4">
  <h5>Name</h5>
  <div class="text-lg"><%= @story_builder.title %></div>
  <h5 class="mt-3 mb-2">Questions</h5>
  <% if @questionnaires.present? %>
    <div data-controller="sortable" data-sortable-resource-name-value="question">
      <% @questionnaires.each_with_index do |questionnaire, index| %>
          <div class="flex items-center justify-between gap-3" 
            data-sortable-update-url="<%= sort_questions_admin_story_builder_path(@story_builder, question_id: questionnaire.question_id) %>">
            <div class="text-base break-words"><%= questionnaire.question.title %> Position: <%= questionnaire.position %></div>
            <%= link_to("Go to Question", admin_question_path(questionnaire.question), class:'btn btn-primary btn-small') %>
          </div>
        <% if index != @questionnaires.size - 1 %>
          <hr class="my-2"/>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div>No questions present in this builder.</div>
  <% end %>
</div>


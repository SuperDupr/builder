<div data-controller="checkbox" class="flex items-center relative">
  <div data-controller="dropdown" data-action="click->dropdown#toggle click@window->dropdown#hide" role="button">
    <div class="border p-2 inline-flex items-center leading-none no-underline align-middle rounded">
      <div>
        <div class="inline-block select-none" aria-label="Profile Menu">
          <span data-checkbox-target="selectText" class="text-gray-700 dark:text-gray-100"> 
            select
          </span>
        </div>
        <div data-dropdown-target="menu" id="dropdown" class="mt-2 absolute left-0 dropdown-menu min-w-[250px] max-w-[350px] z-10" data-original-class="mt-2 absolute left-0 dropdown-menu min-w-[250px] max-w-[350px] z-10">
          <div class="overflow-hidden bg-white border border-gray-200 rounded shadow-md p-3">
            <% nodes.each do |node| %>
              <% if node.child_nodes.any? %>
                <h6 class="mb-1"><%= node.title %></h6>
                <% node.child_nodes.each do |child_node| %>
                  <%= render "single_select_option", node: child_node, prompt: prompt, selector: selector %>
                <% end %>
              <% else %>
                <%= render "single_select_option", node: node, prompt: prompt, selector: selector %>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
      <div data-checkbox-target="buttonContainer" class="flex flex-wrap gap-2 ml-2" data-multiple_node=<%= multiple_selection_mode %>></div>
      <i class="fas fa-chevron-down text-xs mt-[2px] ml-2"></i>
    </div>
  </div>
</div>